const userSchema = new mongoose.Schema({
  name: String,
  email: String
});


const productSchema = new mongoose.Schema({
  name: String,
  price: Number
});


const orderSchema = new mongoose.Schema({
  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  address: String,
  products: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Product' }],
  total: Number,
  createdAt: { type: Date, default: Date.now }
});



const User = mongoose.model('User', userSchema);
const Product = mongoose.model('Product', productSchema);
const Order = mongoose.model('Order', orderSchema);



Order.findById(orderId)
  .populate('user')         // get user details
  .populate('products')     // get product details
  .then(order => {
    console.log("Order:", order);
    console.log("Ordered by:", order.user.name);
    console.log("Shipping address:", order.address);
    console.log("Products:", order.products);
  });


