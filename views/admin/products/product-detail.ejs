<%- include('../partials/admin/header') %>
<style>
  /* Product Detail Page Styling */
.product-detail-container {
  background: linear-gradient(145deg, #ffffff, #f8fafc);
  border-radius: 16px;
  padding: 48px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1280px;
  margin: 32px auto;
  border: 1px solid #e2e8f0;
}

.content-title {
  font-size: 32px;
  font-weight: 700;
  color: #1a202c;
  margin-bottom: 32px;
  padding-bottom: 12px;
  border-bottom: 3px solid #48bb78;
  letter-spacing: -0.025em;
}

.detail-section {
  background: #ffffff;
  padding: 24px;
  border-radius: 12px;
  margin-bottom: 24px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border: 1px solid #edf2f7;
}

.detail-section:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

.detail-section h3 {
  font-size: 22px;
  font-weight: 600;
  color: #2d3748;
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 2px solid #e2e8f0;
}

.detail-section p, .detail-section ul {
  font-size: 16px;
  line-height: 1.75;
  color: #4a5568;
  margin: 0;
}

.detail-section ul {
  list-style: none;
  padding: 0;
}

.detail-section ul li {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.detail-section ul li::before {
  content: "●";
  color: #48bb78;
  font-size: 14px;
}

.image-gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.image-gallery img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 10px;
  border: 1px solid #e2e8f0;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.image-gallery img:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.image-gallery img:focus {
  outline: 3px solid #48bb78;
  outline-offset: 2px;
}

.variants-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.variant-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-radius: 10px;
  background: #f7fafc;
  border: 1px solid #e2e8f0;
  transition: background-color 0.3s ease, transform 0.3s ease;
}

.variant-item:hover {
  background: #edf2f7;
  transform: translateX(4px);
}

.variant-item span {
  font-size: 15px;
  color: #2d3748;
  font-weight: 500;
}

.variant-item .original-price {
  color: #a0aec0;
  text-decoration: line-through;
  margin-right: 12px;
  font-size: 14px;
}

.variant-item .offer-price {
  color: #e53e3e;
  font-weight: 700;
  font-size: 16px;
}

.badge {
  padding: 8px 16px;
  border-radius: 9999px;
  font-size: 14px;
  font-weight: 600;
  line-height: 1;
  display: inline-flex;
  align-items: center;
}

.alert-success {
  background-color: #48bb78;
  color: #ffffff;
}

.alert-danger {
  background-color: #f56565;
  color: #ffffff;
}

.btn-back {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  background: linear-gradient(90deg, #2d4a3e, #3c6e4f);
  color: #ffffff;
  padding: 12px 28px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 8px;
  text-decoration: none;
  transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
}

.btn-back:hover {
  background: linear-gradient(90deg, #1a3c2b, #2d4a3e);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn-back:focus {
  outline: 3px solid #48bb78;
  outline-offset: 2px;
}

.btn-back i {
  font-size: 18px;
}

/* Responsive Design */
@media (max-width: 768px) {
  .product-detail-container {
    padding: 24px;
    margin: 16px;
  }

  .content-title {
    font-size: 28px;
    padding-bottom: 10px;
  }

  .detail-section {
    padding: 16px;
  }

  .detail-section h3 {
    font-size: 20px;
  }

  .detail-section p, .detail-section ul, .variant-item span {
    font-size: 15px;
  }

  .image-gallery {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .image-gallery img {
    height: 140px;
  }

  .btn-back {
    padding: 10px 20px;
    font-size: 15px;
  }
}

@media (max-width: 480px) {
  .product-detail-container {
    padding: 16px;
    margin: 8px;
  }

  .content-title {
    font-size: 24px;
  }

  .detail-section h3 {
    font-size: 18px;
  }

  .detail-section p, .detail-section ul, .variant-item span {
    font-size: 14px;
  }

  .image-gallery {
    grid-template-columns: 1fr;
  }

  .image-gallery img {
    height: 160px;
  }

  .variant-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
    padding: 12px;
  }

  .btn-back {
    width: 100%;
    justify-content: center;
    padding: 12px;
  }
}

/* Accessibility Enhancements */
:focus-visible {
  outline: 3px solid #48bb78;
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  .detail-section:hover,
  .image-gallery img:hover,
  .variant-item:hover,
  .btn-back:hover {
    transform: none;
    transition: none;
  }
}
</style>
<main class="dashboard-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="product-detail-container">
          <h2 class="content-title">Perfume Details: <%= product.productName || 'N/A' %></h2>

          <div class="detail-section">
            <h3>Basic Information</h3>
            <p><strong>Name:</strong> <%= product.productName || 'Not specified' %></p>
            <p><strong>Fragrance Type:</strong> <%= product.fragranceType || 'Not specified' %></p>
            <p><strong>Brand:</strong> <%= product.brand && product.brand.name ? product.brand.name : 'N/A' %></p>
            <p><strong>Category:</strong> <%= product.category && product.category.name ? product.category.name : 'N/A' %></p>
            <p><strong>Description:</strong> <%= product.description || 'No description available' %></p>
            <p><strong>Status:</strong> 
              <span class="badge <%= product.status === 'listed' ? 'alert-success' : 'alert-danger' %>">
                <%= product.status === 'listed' ? 'Listed' : 'Unlisted' %>
              </span>
            </p>
            <% if (product.hasOffer) { %>
              <p><strong>Active Offer:</strong> <%= product.offerName || 'Special Offer' %></p>
              <p><strong>Discount:</strong> 
                <% if (product.discountType === 'percentage') { %>
                  <%= product.discountPercentage %>% off
                <% } else if (product.discountType === 'fixed') { %>
                  ₹<%= product.discountValue %> off
                <% } %>
              </p>
            <% } %>
          </div>

          <div class="detail-section">
            <h3>Images</h3>
            <div class="image-gallery">
              <% if (product.images && product.images.length > 0) { %>
                <% product.images.forEach(image => { %>
                  <img src="<%= image.url %>" alt="<%= product.productName || 'Product Image' %>">
                <% }) %>
              <% } else { %>
                <p>No images available</p>
              <% } %>
            </div>
          </div>

          <div class="detail-section">
            <h3>Variants</h3>
            <div class="variants-list">
              <% if (product.variants && product.variants.length > 0) { %>
                <% product.variants.forEach(variant => { %>
                  <div class="variant-item">
                    <span><strong>Size:</strong> <%= variant.size || 'N/A' %></span>
                    <span><strong>Sold:</strong> <%= variant.soldCount || 0 %></span>
                    <span>
                      <strong>Price:</strong> 
                      <% if (variant.hasOffer && variant.offerPrice < variant.originalPrice) { %>
                        <span class="original-price">₹<%= variant.originalPrice.toFixed(2) %></span>
                        <span class="offer-price">₹<%= variant.offerPrice.toFixed(2) %></span>
                      <% } else { %>
                        <span class="offer-price">₹<%= variant.originalPrice.toFixed(2) %></span>
                      <% } %>
                    </span>
                    <% if (variant.hasOffer) { %>
                      <span><strong>Offer:</strong> <%= variant.offerName || 'Active' %></span>
                    <% } %>
                  </div>
                <% }) %>
              <% } else { %>
                <p>No variants available</p>
              <% } %>
            </div>
          </div>

          

         

          <a href="/admin/productManagement" class="btn-back">
            <i class="fas fa-arrow-left"></i> Back to Perfume Management
          </a>
        </div>
      </div>
    </div>
  </div>
</main>
